# k8s/base/minio-service.yaml
# Purpose: Expose MinIO API and Console inside the cluster

apiVersion: v1
kind: Service
metadata:
  name: minio
  namespace: fraud-detection
  labels:
    app: minio
    component: mlflow-artifacts
spec:
  type: ClusterIP
  ports:
    - port: 9000               # S3 API (MLflow connects here)
      targetPort: 9000
      protocol: TCP
      name: api
    - port: 9001               # Web Console (for debugging)
      targetPort: 9001
      protocol: TCP
      name: console
  selector:
    app: minio